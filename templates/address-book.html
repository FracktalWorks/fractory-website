{% extends "base.html" %}

{% block head %}
  <title>Address Book</title>
{% endblock %}

{% block content %}
  <section class="block displayflex profilewrapper" style="max-width: 1360px">
    <div class="profilemenuwrapper block whitecolor text-center">
      <img src="media/avatar.png" class="img-responsive displayinline marginbottom40" alt="" />
      <h3>Hi <span>Kewal</span></h3>
      <ul class="block sectionpadding50 text-left">
        <li><a href="profile">Profile</a></li>
        <li><a href="orders">Orders</a></li>
        <li><a href="upload">Upload</a></li>
        <li><a href="#0" class="active">Address Book</a></li>
      </ul>

      <a class="btn block themebg" href="/signout">Logout</a>
    </div>
    <div class="profilecontentswrapper  block whitebg">
      <div class="block">
        <h3 class="marginbottom40 displayinlineblock">ADDRESS BOOK</h3>
      </div>
      <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
        <div class="added-addresses block scrollbars">
          {% for address in user.addresses %}
          <div class="addresseswrapper block marginbottom30">
              <h6 class="marginbottom20">{{ address.identifier }}</h6>
              <div class="block marginbottom20">
                <p>{{ address.full_name }}</p>
                <p>{{ address.organisation }}</p>
                <p>{{ address.line_1 }}</p>
                <p>{{ address.line_2 }}</p>
                <p>{{ address.city }} {{ address.area_code }}</p>
                <p>{{ address.state }}, {{ address.country }}</p>
                <p>{{ address.phone }}</p>
              </div>
              <a href="#0" onclick="edit_address({{ loop.index - 1 }})">Edit</a> <a href="#0" onclick="delete_address({{ loop.index - 1 }})">Remove</a> {% if loop.index - 1 == user.primary_address %}<a >Primary Address</a>{% else %}<a href="/address-book/make-primary/{{ loop.index - 1 }}" >Make Primary</a>{% endif %}
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="col-lg-6 col-lg-offset-1 col-md-5 col-md-offset-2 col-sm-6 col-xs-12">
        <form action="" method="post" enctype="multipart/form-data" class="profiledetails block editaddress activeinputtype">
          <input name="index" type="hidden" value="-1"></li>
          <ul class="">
            <li class=" blackcolor text-center boldfont">Add Address</li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="fatal" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">Identifier</li>
            <li class="flex2"><input name="identifier" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="identifier" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">Full Name</li>
            <li class="flex2"><input name="full_name" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="full_name" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">Organisation</li>
            <li class="flex2"><input name="organisation" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="organisation" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">Line 1</li>
            <li class="flex2"><input name="line_1" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="line_1" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">Line 2</li>
            <li class="flex2"><input name="line_2" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="line_2" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">City</li>
            <li class="flex2"><input name="city" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="city" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">State</li>
            <li class="flex2"><input name="state" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="state" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">Postal Code</li>
            <li class="flex2"><input name="area_code" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="area_code" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="flex">
            <li class="flex1 text-right lightcolorfont">Phone</li>
            <li class="flex2"><input name="phone" type="text" value="" class="custominputtype block"></li>
          </ul>
          <ul class="flex" style="padding-bottom: 5px;">
            <li class="flex1 text-right lightcolorfont"></li>
            <li class="flex2"><input id="phone" type="text" value="" class="custominputtype block" disabled="disabled" style="font-size: 0.7em; color: red; visibility:hidden;"/></li>
          </ul>
          <ul class="block text-center">
            <li class="backandsavebuttons block transition active" style="position: relative; bottom: 0; right: 0">
              <button type="button" class="btn btnwidth btn-boxshadow transition themebg whitecolor block pull-right saveaddress_js">Save</button>
              <button type="button" class="btn btnwidth btn-boxshadow transition block bluebtn whitecolor pull-right reset_js">Reset</button>
            </li>
          </ul>
        </form>
      </div>
    </div>
  </section>
{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="libraries/textrotator/css/jquery.animatedheadline.css" />
  <link rel="stylesheet" href="libraries/scroll/css/jquery.classyscroll.css" />
  <link rel="stylesheet" href="libraries/intlTelInput/css/intlTelInput.css">
  <style>
    .intl-tel-input {width: 100%;}
  </style>
  <link rel="stylesheet" href="css/profile.css">
{% endblock %}

{% block scripts %}
  <script src="libraries/textrotator/js/jquery.animatedheadline.min.js"></script>
  <script src="libraries/scroll/js/jquery.mousewheel.js"></script>
  <script src="libraries/scroll/js/jquery.classyscroll.js"></script>
  <script src="libraries/intlTelInput/js/intlTelInput.min.js"></script>
  <script>
    window.user = {};
    window.user.type             = "{{ user.type }}";
    window.user.subscription     = "{{ user.subscription }}";
    window.user.rating           = "{{ user.rating }}";
    window.user.email            = "{{ user.email }}";
    window.user.verified         = "{{ user.verified }}";
    window.user.fname            = "{{ user.fname }}";
    window.user.lname            = "{{ user.lname }}";
    window.user.phone            = "{{ user.phone }}";
    window.user.referral         = "{{ user.referral }}";
    window.user.referred_by      = "{{ user.referred_by }}";
    window.user.referred         = [];
    {% for referred in user.referred %}
      window.user.referred.push("{{ referred }}");
    {% endfor %}
    window.user.organisations    = [];
    {% for organisation in user.organisations %}
      window.user.organisations.push("{{ organisation }}");
    {% endfor %}
    window.user.surveys          = [];
    {% for survey in user.surveys %}
      window.user.surveys.push("{{ survey }}");
    {% endfor %}
    window.user.offers          = [];
    {% for offer in user.offers %}
      window.user.offers.push("{{ offer }}");
    {% endfor %}
    window.user.primary_address  = "{{ user.primary_address }}";
    window.user.addresses        = [];
    var address                  = {};
    {% for address in user.addresses %}
      address                    = {};
      address.identifier         = "{{ address.identifier }}";
      address.full_name          = "{{ address.full_name }}";
      address.organisation       = "{{ address.organisation }}";
      address.line_1             = "{{ address.line_1 }}";
      address.line_2             = "{{ address.line_2 }}";
      address.city               = "{{ address.city }}";
      address.state              = "{{ address.state }}";
      address.area_code          = "{{ address.area_code }}";
      address.phone              = "{{ address.phone }}";
      address.country            = "{{ address.country }}";
      window.user.addresses.push(address);
    {% endfor %}

    window.intercomSettings.email = "{{ user.email }}";
  </script>
  <script src="js/profile.js"></script>
{% endblock %}
